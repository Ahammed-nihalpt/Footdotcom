<!DOCTYPE html>
<html lang="en">
    <%- include('../partials/adminPartials/AdminHeader.ejs') %> 
    <link rel="stylesheet" href="/css/adminProducts.css" type="text/css" />
    <section class="body-section">
        <h3 class="i-names">Products</h3>
        <div class="table-top container">
            <div>
              <a href="products/add" class="btn btn-outline-success" role="button" aria-disabled="true">Add</a>
            </div>
            <div class="d-flex">
              <input class="form-control" type="text" placeholder="Search" aria-label="default input example">
              <a class="btn btn-outline-secondary" role="button" aria-disabled="true">Search</a>
            </div>
        </div>
        <div class="container">
          <div class="table-responsive">
              <table class="table align-middle">
                <thead>
                  <tr>
                      <th scope="col">Product Image</th>
                      <th scope="col">Product Name</th>
                      <th scope="col">Price</th>
                      <th scope="col">Stock</th>
                      <th scope="col">Category</th>
                      <th scope="col">Brand</th>
                      <th scope="col">Color</th>
                      <th scope="col">Size</th>
                      <th scope="col">Product Status</th>
                      <th scope="col">Option</th>
                  </tr>
                </thead>
                <% allData.forEach(data =>{  %>
                <tbody>
                  <tr <% if(data.product_status === 'deactivated'){ %> 
                    class="table-danger"
                     <% } %> >
                      <td><img class="pro-img" src="/images/<%= data.product_img %> " alt=""></td>
                      <td><%= data.product_name %></td>
                      <td><%= data.price %></td>
                      <td><%= data.stock %></td>
                      <td>
                        <ul>
                          <li>type: <%= data.product.type %></li>
                          <li>occasion: <%= data.product.occasion %></li>
                          <li>gender: <%= data.product.gender %></li>
                        </ul>
                      </td>
                      <td><%= data.brand %></td>
                      <td><%= data.color %></td>
                      <td><%= data.size %></td>
                      <td><%= data.product_status %></td>
                      <td colspan="3">
                        <% if(data.product_status === 'active') { %> 
                          <a
                          href="/admin/home/product/deactivate/<%= data._id %>"
                          class="btn  btn-outline-danger btn-sm"
                          tabindex="-1"
                          role="button"
                          aria-disabled="true"
                          >Deactivate</a>
                              <% } else { %> 
                              <a
                              href="/admin/home/product/activate/<%= data._id %>"
                              class="btn btn-outline-success btn-sm"
                              tabindex="-1"
                              role="button"
                              aria-disabled="true"
                              >Activate</a>
                              <% } %> 
                          <a
                              href="/admin/home/product/delete/<%= data.category_id %>/<%= data.product_img %>"
                              class="btn btn-outline-danger btn-sm"
                              tabindex="-1"
                              role="button"
                              aria-disabled="true"
                              >Delete</a>
                              <a
                              href="/admin/home/product/edit/<%= data._id %>"
                              class="btn btn-outline-warning btn-sm"
                              tabindex="-1"
                              role="button"
                              aria-disabled="true"
                              >Edit</a>
                      </td>
                  </tr>
                </tbody>
                <%})%>
              </table>
            </div>
      </div>
    </section>
<script>
    $("#menu-btn").click(function () {
      $("#menu").toggleClass("active");
    });
  </script>
  <style>
    #menu .items li:nth-child(2) {
      border-left: 4px solid #fff;
    }
  </style>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
    crossorigin="anonymous"
  ></script>
</body>
</html>
</body>
</html>

